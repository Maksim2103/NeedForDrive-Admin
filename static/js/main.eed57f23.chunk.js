(this["webpackJsonpneed-for-drive-admin"]=this["webpackJsonpneed-for-drive-admin"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(27),o=n.n(r),c=n(37),i=(n(96),n(9)),u=n(165),l=n(11),d=n(162),p=n(166),g=n(163),h=n(167),b=n(21),f=n.n(b),j=n.p+"static/media/Logo.bc4f3ee8.svg",m=n(34),O=n(32),_=n.n(O),x=n(48),v=n(30),R=n(60),k=n.n(R),L=window.btoa("".concat(function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*a));return t}(10),":").concat("4cbcea96de")),y=window.sessionStorage.access_token,C="Basic ".concat(L),w="Bearer ".concat(y),A="5e25c641099b810b946c5d5b",N=k.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":A,"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:C}}),T=k.a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":A,"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:w}}),P=Object(v.b)("auth/register/fetchAsyncRegister",function(){var e=Object(x.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/auth/register",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.response.status));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),z=Object(v.b)("auth/login/fetchAsyncLogin",function(){var e=Object(x.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/auth/login",t);case 3:return n=e.sent,sessionStorage.setItem("access_token",n.data.access_token),sessionStorage.setItem("refresh_token",n.data.refresh_token),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.response.status));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),I=Object(v.b)("auth/logout/fetchAsyncLogout",function(){var e=Object(x.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("/auth/logout",t);case 3:return n=e.sent,sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token"),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.response.status));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),W=Object(v.b)("auth/refresh/fetchAsyncRefreshToken",function(){var e=Object(x.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/auth/refresh",t);case 3:return n=e.sent,sessionStorage.setItem("access_token",n.data.access_token),sessionStorage.setItem("refresh_token",n.data.refresh_token),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.response.status));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),S=n(75),F=Object(v.c)({name:"auth",initialState:{dataResponseRegister:null,dataResponseLogin:null},reducers:{},extraReducers:function(e){e.addCase(P.pending,(function(e){e.loadingResponseRegister="pending"})),e.addCase(P.fulfilled,(function(e,t){e.dataResponseRegister=t.payload,e.loadingResponseRegister="succeeded"})),e.addCase(P.rejected,(function(e,t){e.loadingResponseRegister="failed",e.errorResponseRegister=t.error.message})),e.addCase(z.pending,(function(e){e.loadingResponseLogin="pending"})),e.addCase(z.fulfilled,(function(e,t){e.dataResponseLogin=t.payload,e.loadingResponseLogin="succeeded"})),e.addCase(z.rejected,(function(e,t){e.loadingResponseLogin="failed",e.errorResponseLogin=t.error.message})),e.addCase(I.pending,(function(e){e.loadingResponseLogout="pending"})),e.addCase(I.fulfilled,(function(e,t){e.dataResponseLogin=null,e.dataResponseRegister=null,e.loadingResponseLogout="succeeded"})),e.addCase(I.rejected,(function(e,t){e.loadingResponseLogout="failed",e.errorResponseLogout=t.error.message})),e.addCase(W.pending,(function(e){e.loadingResponseRefreshToken="pending"})),e.addCase(W.fulfilled,(function(e,t){e.dataResponseRefreshToken=t.payload,e.loadingResponseRefreshToken="succeeded"})),e.addCase(W.rejected,(function(e,t){e.loadingResponseRefreshToken="failed",e.errorResponseRefreshToken=t.error.message}))}}),M=function(e){return e.auth.dataResponseRegister},B=function(e){var t;return null===(t=e.auth.dataResponseLogin)||void 0===t?void 0:t.access_token};Object(S.a)(F.actions);var X=F.reducer,D=n(76),Y=n.n(D),E=n(2),J=Y.a.bind(f.a),U=function(){var e=Object(m.b)(),t=Object(m.c)(M),n=Object(a.useState)("intern"),s=Object(l.a)(n,2),r=s[0],o=s[1],i=Object(a.useState)("intern-S!"),b=Object(l.a)(i,2),O=b[0],_=b[1];return Object(E.jsxs)(u.a,{children:[Object(E.jsxs)(u.a,{className:f.a.logoWrapper,children:[Object(E.jsx)("img",{className:f.a.logo,src:j,alt:"logo"}),Object(E.jsx)(p.a,{className:f.a.logoTitle,children:"Need for drive"})]}),Object(E.jsxs)(h.a,{className:f.a.formWrapper,children:[Object(E.jsx)(p.a,{className:f.a.mainTitle,children:"\u0412\u0445\u043e\u0434"}),Object(E.jsxs)(u.a,{className:f.a.inputWrapper,children:[Object(E.jsx)(p.a,{className:f.a.inputTitle,children:"\u041f\u043e\u0447\u0442\u0430"}),Object(E.jsx)(d.a,{className:f.a.inputInput,type:"email",size:"small",fullWidth:!0,id:"outlined-email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",value:r,onChange:function(e){o(e.target.value)}})]}),Object(E.jsxs)(u.a,{className:f.a.inputWrapper,children:[Object(E.jsx)(p.a,{className:f.a.inputTitle,children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(E.jsx)(d.a,{className:f.a.inputInput,type:"password",size:"small",fullWidth:!0,id:"outlined-password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:O,onChange:function(e){_(e.target.value)}})]}),Object(E.jsxs)(u.a,{className:f.a.buttonsWrapper,children:[Object(E.jsx)(g.a,{className:f.a.buttonAuth,variant:"text",onClick:function(){e(P({username:r,password:O}))},children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(E.jsx)(c.b,{className:J("buttonLogin",Boolean(t)?null:"disabledLink"),to:"/main",onClick:function(){e(z(t))},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})},Z=n(79),G=n.n(Z),K=function(){var e=Object(m.b)(),t=Object(m.c)(B);return Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:"Main Page"}),Object(E.jsx)(c.b,{className:G.a.buttonLogout,onClick:function(){e(I({Authorization:"Bearer ".concat(t)}))},to:"/",children:"Log out"})]})},Q=n(80),V=n.n(Q),q=function(){return Object(E.jsxs)("div",{className:V.a.notFoundPage,children:[Object(E.jsx)("h3",{children:"404"}),Object(E.jsx)("h3",{children:"\u0423\u043f\u0441, \u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442..."})]})},H=n(81),$=n.n(H);var ee=function(){return Object(E.jsx)(u.a,{className:$.a.app,children:Object(E.jsxs)(i.c,{children:[Object(E.jsx)(i.a,{path:"/",element:Object(E.jsx)(U,{})}),Object(E.jsx)(i.a,{path:"/main",element:Object(E.jsx)(K,{})}),Object(E.jsx)(i.a,{path:"*",element:Object(E.jsx)(q,{})})]})})},te=Object(v.a)({reducer:{auth:X}});o.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(c.a,{children:Object(E.jsx)(m.a,{store:te,children:Object(E.jsx)(ee,{})})})}),document.getElementById("root"))},21:function(e,t,n){e.exports={logoWrapper:"authorizationPage_logoWrapper__2GeF5",logoTitle:"authorizationPage_logoTitle__Mr34W",formWrapper:"authorizationPage_formWrapper__2dv-T",mainTitle:"authorizationPage_mainTitle__2sDsN",inputTitle:"authorizationPage_inputTitle__1Ok6Y",inputInput:"authorizationPage_inputInput__1ZXCV",buttonsWrapper:"authorizationPage_buttonsWrapper__3XpyY",buttonAuth:"authorizationPage_buttonAuth__eaaM7",buttonLogin:"authorizationPage_buttonLogin__30jyY",disabledLink:"authorizationPage_disabledLink__3-Kxl"}},79:function(e,t,n){e.exports={buttonLogout:"mainPage_buttonLogout__1Ijj4"}},80:function(e,t,n){e.exports={notFoundPage:"notFoundPage_notFoundPage__2QED2"}},81:function(e,t,n){e.exports={app:"app_app__cDkZh"}},96:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.eed57f23.chunk.js.map